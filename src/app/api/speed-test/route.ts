import { NextRequest, NextResponse } from 'next/server';\nimport { withErrorHandling } from '@/lib/error-handler';\nimport { createApiResponse } from '@/lib/data-transformer';\n\n// Simple speed test endpoint for network speed detection\nexport const HEAD = withErrorHandling(async (request: NextRequest) => {\n  // Add a small delay to simulate network latency\n  await new Promise(resolve => setTimeout(resolve, 50));\n  \n  return new NextResponse(null, {\n    status: 200,\n    headers: {\n      'Cache-Control': 'no-cache, no-store, must-revalidate',\n      'Pragma': 'no-cache',\n      'Expires': '0'\n    }\n  });\n});\n\n// GET endpoint for more detailed speed testing\nexport const GET = withErrorHandling(async (request: NextRequest) => {\n  const { searchParams } = new URL(request.url);\n  const size = parseInt(searchParams.get('size') || '1024'); // Size in bytes\n  \n  // Generate test data of specified size\n  const testData = 'x'.repeat(Math.min(size, 10240)); // Max 10KB for safety\n  \n  return NextResponse.json(\n    createApiResponse(true, {\n      size: testData.length,\n      timestamp: Date.now(),\n      data: testData\n    }),\n    {\n      headers: {\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\n        'Pragma': 'no-cache',\n        'Expires': '0'\n      }\n    }\n  );\n});